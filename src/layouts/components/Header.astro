---
import { getChannels } from "../../lib/youtube";
import Wiki from "../../assets/wiki.svg";

const { currentChannelId } = Astro.props;

const channels = await getChannels();
---

<header
  class="w-full px-6 py-3 bg-zinc-900 shadow gap-4 items-center overflow-x-auto"
>
  <div class="flex gap-2 items-center justify-start">
    <a href="/" class="flex gap-2 items-center">
      <img
        src="/img/elisawaves.png"
        alt="Elisa Waves"
        class="w-10 h-10 rounded-full inline-block"
      />
      <h1 class="text-xl font-bold">Elisa Waves</h1>
    </a>
  </div>
  <div class="flex gap-4 items-center justify-center">
    {
      channels.map((channel) => (
        <a
          href={`/channel/${channel.name}`}
          class={`flex flex-col items-center gap-1 px-2 group   transition`}
        >
          <img
            src={channel.thumbnail}
            alt={channel.title}
            class={`w-10 h-10 rounded-full ${
              currentChannelId === channel.id
                ? "opacity-100 rounded-full border-2 border-red-500"
                : "opacity-50 hover:opacity-100"
            }`}
          />
        </a>
      ))
    }
  </div>
  <div class="flex gap-2 items-center justify-end">
    <a href="https://eliverse.fandom.com/es/wiki/Elisawaves" target="_blank">
      <Wiki
        alt="Wiki"
        class="w-10 h-10 rounded-full inline-block"
        fill="white"
        title="Wiki"
      />
    </a>
  </div>
</header>

<style>
  header {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    justify-content: space-between;
  }
</style>
